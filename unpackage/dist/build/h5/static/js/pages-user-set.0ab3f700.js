(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-set"],{2614:function(t,e,i){"use strict";(function(t){var a=i("4ea4");i("ac1f"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("f94a")),s={components:{mpvueCityPicker:n.default},data:function(){var t=this.getConst();return{conf:t,user:{memberId:"",memberName:"",memberSex:"",memberPhone:"",memberAvatar:"",city:"",district:"",menEndAt:"",headImg:""},edit_city_picker:!0,cityPickerValueDefault:[0,0,1],themeColor:"#007AFF",pickerText:"",edit_guider:!1}},onLoad:function(t){this.loadData()},onShow:function(){this.$toast(this.getConst().version_code)},methods:{refreshwx:function(){"H5"==this.getPlat()?this.$updatewxuser():this.$updatewxappuser()},choseimg:function(){var e=this;this.$chooseImageUpload(1,(function(i){t("log",i," at pages/user/set.vue:137"),e.user.headImg=i[0]}))},updatePwd:function(){t("log","hello"," at pages/user/set.vue:166"),uni.navigateTo({url:"/pages/login/forget"})},showMulLinkageThreePicker:function(){!1!==this.edit_city_picker&&this.$refs.mpvueCityPicker.show()},onConfirm:function(e){t("log",e," at pages/user/set.vue:182"),this.pickerText=e.label;var i=this.pickerText.split("-"),a=i[0],n=i[1],s=i[2];this.user.province=a,this.user.city=n,this.user.district=s,this.user.agtId=-1},loadData:function(){var e=this,i={},a=this.$dataLocal("user_info")||{};i.id=a.memberId;uni.request({url:"http://localhost:8888/codeworld-member/member/get-member-id?memberId="+a.memberId,method:"POST",header:{token:this.$dataLocal("token")},success:function(i){2e4===i.data.code&&(e.user=i.data.data,t("log",e.user," at pages/user/set.vue:238"))}})},submit:function(t){var e={};e.id=this.user.id,e.mobile=this.user.mobile,e.province=this.user.province,e.city=this.user.city,e.district=this.user.district,t.guiderId&&"undefined"!=typeof t.guiderId&&(e.guiderId=t.guiderId),t.agtId&&"undefined"!=typeof t.agtId&&(e.agtId=t.agtId);this.$post("user/update",e,(function(t){setTimeout((function(){uni.navigateBack()}),800)}))},confirm:function(){var t=this.user;this.$post("user/update",t,(function(t){setTimeout((function(){uni.navigateBack()}),800)}))},navTo:function(t){this.$toast("成功".concat(t)),this.$dataLocal("user_info",null),this.$dataLocal("buy_type",null),this.$dataLocal("param",null),this.$dataLocal("wxuser",null),this.$dataLocal("userid",null),this.$dataLocal("token",null)},toLogout:function(){var t=this;uni.showModal({title:"确定要退出登录么？",success:function(e){e.confirm&&(t.$rmLoginMsg(),uni.reLaunch({url:"/pages/login/login"}))}})},switchChange:function(e){t("log",e.detail," at pages/user/set.vue:332");var i=e.detai?"打开":"关闭";this.$api.msg("".concat(i,"消息推送"))}}};e.default=s}).call(this,i("0de9")["log"])},"60bf":function(t,e,i){"use strict";var a=i("ec82"),n=i.n(a);n.a},a6f8:function(t,e,i){"use strict";i.r(e);var a=i("2614"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},c225:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container ",staticStyle:{width:"100%"}},[i("mpvue-city-picker",{ref:"mpvueCityPicker",attrs:{themeColor:t.themeColor,pickerValueDefault:t.cityPickerValueDefault},on:{onConfirm:function(e){arguments[0]=e=t.$handleEvent(e),t.onConfirm.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"list-cell b-b m-t flex c-center",staticStyle:{"align-items":"center"},attrs:{"hover-class":"cell-hover","hover-stay-time":50},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.choseimg()}}},[i("v-uni-text",{staticClass:"cell-tit w50p flex c-center"},[t._v("头像")]),i("v-uni-view",{staticClass:"w50p flex m-end"},[i("v-uni-image",{staticClass:"input",staticStyle:{width:"2.6rem",height:"2.6rem","border-radius":"50%"},attrs:{src:t.user.memberAvatar||t.user.wxHeadImg||t.conf.defaultImg}})],1)],1),i("v-uni-view",{staticClass:"list-cell b-b m-t row flex m-end",attrs:{"hover-class":"cell-hover","hover-stay-time":50}},[i("v-uni-text",{staticClass:"cell-tit"},[t._v("手机号码")]),i("v-uni-input",{staticClass:"input",staticStyle:{"text-align":"right"},attrs:{type:"number",disabled:"true",placeholder:"真实手机号码","placeholder-class":"placeholder"},model:{value:t.user.memberPhone,callback:function(e){t.$set(t.user,"memberPhone",e)},expression:"user.memberPhone"}})],1),i("v-uni-view",{staticClass:"list-cell b-b m-t row flex m-end",attrs:{"hover-class":"cell-hover","hover-stay-time":50}},[i("v-uni-text",{staticClass:"cell-tit"},[t._v("昵称")]),i("v-uni-input",{staticClass:"input",staticStyle:{"text-align":"right"},attrs:{type:"text",placeholder:"","placeholder-class":"placeholder"},model:{value:t.user.memberName,callback:function(e){t.$set(t.user,"memberName",e)},expression:"user.memberName"}})],1),i("v-uni-view",{staticClass:"list-cell m-t b-b",attrs:{"hover-class":"cell-hover","hover-stay-time":50},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$toast("已经清空缓存")}}},[i("v-uni-text",{staticClass:"cell-tit"},[t._v("清除缓存")]),i("v-uni-text",{staticClass:"cell-more yticon icon-you"})],1),i("v-uni-view",{staticClass:"list-cell b-b",attrs:{"hover-class":"cell-hover","hover-stay-time":50},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updatePwd()}}},[i("v-uni-text",{staticClass:"cell-tit"},[t._v("修改密码")])],1),i("v-uni-view",{staticClass:"list-cell",staticStyle:{"margin-top":"0.4rem"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toLogout()}}},[i("v-uni-text",{staticClass:"cell-tit"},[t._v("退出登录")])],1),i("v-uni-view",{staticClass:"list-cell log-out-btn center90 ",staticStyle:{"background-color":"#F0AD4E",color:"#ffffff"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.refreshwx()}}},[i("v-uni-text",{staticClass:"cell-tit "},[t._v("刷新微信信息")])],1),i("v-uni-view",{staticClass:"list-cell log-out-btn center90",staticStyle:{"background-color":"#F0AD4E",color:"#ffffff"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm()}}},[i("v-uni-text",{staticClass:"cell-tit "},[t._v("保存")])],1)],1)},s=[]},d9e9:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-b6fac3e8]{overflow-x:hidden;background:#fff}.row[data-v-b6fac3e8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative;padding:0 %?30?%;height:%?110?%;background:#fff}.row .tit[data-v-b6fac3e8]{-webkit-flex-shrink:0;flex-shrink:0;width:%?120?%;font-size:%?30?%;color:#303133}.row .input[data-v-b6fac3e8]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?30?%;color:#303133}.row .icon-shouhuodizhi[data-v-b6fac3e8]{font-size:%?36?%;color:#909399}.list-cell[data-v-b6fac3e8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:baseline;-webkit-align-items:baseline;align-items:baseline;padding:%?20?% .9rem;line-height:%?60?%;position:relative;background:#fff;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.list-cell.log-out-btn[data-v-b6fac3e8]{margin-top:%?40?%}.list-cell.log-out-btn .cell-tit[data-v-b6fac3e8]{color:#007aff;text-align:center;margin-right:0}.list-cell.cell-hover[data-v-b6fac3e8]{background:#fafafa}.list-cell.b-b[data-v-b6fac3e8]:after{left:%?30?%}.list-cell.m-t[data-v-b6fac3e8]{margin-top:%?16?%}.list-cell .cell-more[data-v-b6fac3e8]{-webkit-align-self:baseline;align-self:baseline;font-size:.8rem;color:#909399;margin-left:%?10?%}.list-cell .cell-tit[data-v-b6fac3e8]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:.72rem;color:#303133;margin-right:%?10?%}.list-cell .cell-tip[data-v-b6fac3e8]{font-size:.9rem;color:#909399}.list-cell uni-switch[data-v-b6fac3e8]{-webkit-transform:translateX(%?16?%) scale(.84);transform:translateX(%?16?%) scale(.84)}body.?%PAGE?%[data-v-b6fac3e8]{background:#fff}',""]),t.exports=e},df07:function(t,e,i){"use strict";i.r(e);var a=i("c225"),n=i("a6f8");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("60bf");var l,c=i("f0c5"),o=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"b6fac3e8",null,!1,a["a"],l);e["default"]=o.exports},ec82:function(t,e,i){var a=i("d9e9");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("212d482e",a,!0,{sourceMap:!1,shadowMode:!1})}}]);